# タスク間同期

* セマフォ
  * バイナリセマフォ
  * 計数セマフォ
    * 初期値 2 以上でセマフォを作成した場合 TakeSemaphore してもタスクは待たされない

* イベントフラグ

* ミューテックス
  * ミューテックスはようするに初期値 0 のバイナリセマフォと役割りは同じ
  * 優先度逆転は 1 つのセマフォを 2 つ以上のタスク(コンテキスト)で操作しようとするから発生する
  * 対策 セマフォ2つ用意する
    * セマフォの関数をニューテックスの関数に置き換えただけでは何も変わらない

* 同期オブジェクトの違い
  * セマフォ
  * ミューテックス
  * イベントフラグ

* 実装時の注意事項
  * プライオリティインバージョン
  * デッドロック
    * 複数のタスクが同じ順番でセマフォ確保すること
    * セマフォの扱いは入れ子とすること
    * 入れ子にしなくてもデッドロック回避できるが、入れ子のほうが分かりやすい
