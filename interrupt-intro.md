# 割り込み

割り込みとは、実行中の処理を中断して別の処理を実行すること。外部割込み(周辺機器からの通知)と内部割り込み(ゼロ除算等CPU例外とかいろいろ)がある。もっぱら外部割込みを使う。

割り込みベクタにハンドラを登録し、割り込み発生時にハンドラを実行させる。

割り込みハンドラの優先度はタスクの優先度よりも高い。

( via [第2回　タスクとは - T-Engine Forum Japan](http://www.t-engine.org/ja/sympo/rtos/rtos02 "第2回　タスクとは - T-Engine Forum Japan") )

![割り込み処理](https://github.com/miwarin/RTOS-intro/blob/master/10_fig-1.png)

* ディスパッチ禁止
  * タスクが切り替わらないようになる
  * サービスコールを呼び出すとエラーとなる
* 割り込み禁止
  * 割り込みをマスクし、割り込みを無効とする
  * マスカブル割り込み: 割り込みマスクで無効にできる割り込み
  * ノン・マスカブル割り込み(NMI): 割り込みマスクで無効にできない割り込み
